// Code generated by "protoc-gen-orm-service", DO NOT EDIT.

syntax = "proto3";

package example.library;

import "example/library/author_svc.proto";
import "example/library/book.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "orm/patch.proto";

option go_package = "github.com/lesomnus/proto-orm/internal/example/library";

service BookService {
	rpc Add(BookAddRequest) returns (Book);
	rpc Get(BookGetRequest) returns (Book);
	rpc Patch(BookPatchRequest) returns (google.protobuf.Empty);
	rpc Erase(BookGetRequest) returns (google.protobuf.Empty);
}

message BookAddRequest {
	optional bytes id = 1;
	string title = 3;
	repeated Book.Index index = 5;
	repeated string genres = 6;
	optional google.protobuf.Timestamp date_created = 15;
}

message BookGetRequest {
	BookSelect select = 1;
	oneof key {
		bytes id = 2;
	}
}

message BookSelect {
	optional bool all = 1;
	optional bool title = 3;
	optional AuthorSelect authors = 4;
	optional bool index = 5;
	optional bool genres = 6;
	optional bool date_created = 15;
}

message BookPatchRequest {
	BookGetRequest key = 1;
	optional string title = 5;
	repeated BookPatchAuthors authors = 7;
	repeated Book.Index index = 9;
	repeated string genres = 11;
}

message BookPatchAuthors {
	orm.PatchOp op = 1;
	repeated BookGetRequest items = 2;
}
